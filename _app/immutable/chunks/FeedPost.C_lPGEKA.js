var Nt=Object.defineProperty;var Bt=o=>{throw TypeError(o)};var Ft=(o,t,a)=>t in o?Nt(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a;var Lt=(o,t,a)=>Ft(o,typeof t!="symbol"?t+"":t,a),Mt=(o,t,a)=>t.has(o)||Bt("Cannot "+a);var q=(o,t,a)=>(Mt(o,t,"read from private field"),a?a.call(o):t.get(o)),ct=(o,t,a)=>t.has(o)?Bt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,a),Dt=(o,t,a,l)=>(Mt(o,t,"write to private field"),l?l.call(o,a):t.set(o,a),a),jt=(o,t,a)=>(Mt(o,t,"access private method"),a);import{a as M,t as P,c as Ct}from"./disclose-version.CLVP8wdO.js";import{h as Ot,_ as qt,A as Jt,aM as Vt,aN as Kt,b as Gt,a6 as Zt,d as Qt,f as $t,as as te,X as ee,q as ae,p as pt,j as s,i as e,m as oe,c,r as v,a as gt,k as w,s as g,t as et,g as vt,aO as se}from"./runtime.OFQIcp2P.js";import{d as _t,e as Ut,s as at}from"./render.BVhLVIDF.js";import{i as L}from"./if.CxsERAfj.js";import{s as ht,r as Rt}from"./attributes.CGWwtoYz.js";import{s as H}from"./style.PwPRnE0L.js";import{t as J,s as V}from"./index.xyXJjMDu.js";import{p as rt}from"./proxy.B9U5D_Zu.js";import{p as $}from"./props.Dg3GoPRi.js";import{o as xt}from"./index-client.DzRFANZT.js";import{P as ot}from"./public.CHZCeYTi.js";import{r as re}from"./misc.B3A1_1qC.js";import{b as Tt}from"./input.DJG4wHAv.js";import{b as yt}from"./this.DL9b0rlM.js";import{g as bt}from"./entry.DMoyRBBC.js";import{E as ie}from"./ErrorArticle.Djy6cXaC.js";import{i as lt,j as ft}from"./jwtRetriever.svelte.eYKYCOXx.js";import{s as N}from"./shared.svelte.Crem28hc.js";import{_ as ne}from"./preload-helper.C1FmrZbK.js";import{b as nt}from"./paths.CWjIHuvM.js";function le(o,t,a){Ot&&qt();var l=o,i=te,d,f=Jt()?Vt:Kt;Gt(()=>{f(i,i=t())&&(d&&Zt(d),d=Qt(()=>a(l)))}),Ot&&(l=$t)}var Q,it,ut,wt,Yt;const kt=class kt{constructor(t){ct(this,wt);ct(this,Q,new WeakMap);ct(this,it);ct(this,ut);Dt(this,ut,t)}observe(t,a){var l=q(this,Q).get(t)||new Set;return l.add(a),q(this,Q).set(t,l),jt(this,wt,Yt).call(this).observe(t,q(this,ut)),()=>{var i=q(this,Q).get(t);i.delete(a),i.size===0&&(q(this,Q).delete(t),q(this,it).unobserve(t))}}};Q=new WeakMap,it=new WeakMap,ut=new WeakMap,wt=new WeakSet,Yt=function(){return q(this,it)??Dt(this,it,new ResizeObserver(t=>{for(var a of t){kt.entries.set(a.target,a);for(var l of q(this,Q).get(a.target)||[])l(a)}}))},Lt(kt,"entries",new WeakMap);let zt=kt;var de=new zt({box:"border-box"});function Et(o,t,a){var l=de.observe(o,()=>a(o[t]));ee(()=>(ae(()=>a(o[t])),l))}var ce=P('<div><canvas class="svelte-1iibbfh"></canvas></div>');function ve(o,t){pt(t,!0);let a=$(t,"color",3,"#000000"),l=$(t,"lineWidth",3,3),i=380,d=256,f="#ffffff",k=w(void 0),n=w(void 0),u,p,_,m,A=w(i),S=w(d),x=[];xt(()=>{s(n,rt(e(k).getContext("2d"))),e(n).lineCap="round",e(n).lineJoin="round",e(n).imageSmoothingEnabled=!1,K(),x.push(e(n).getImageData(0,0,i,d))}),oe(()=>{e(n)&&(e(n).strokeStyle=a(),e(n).lineWidth=l())});const R=({offsetX:h,offsetY:I})=>({offsetX:i/e(A)*h,offsetY:d/e(S)*I}),B=({offsetX:h,offsetY:I})=>{u=!0;let b=R({offsetX:h,offsetY:I});p={x:b.offsetX,y:b.offsetY}},C=()=>{u=!1,x.push(e(n).getImageData(0,0,i,d))};function E(){x.length>1&&(x.pop(),e(n).putImageData(x[x.length-1],0,0))}function D(){e(n).fillStyle=f,e(n).fillRect(0,0,i,d),x.push(e(n).getImageData(0,0,i,d))}function j(){return new Promise((h,I)=>{e(k).toBlob(b=>{b?h(b):I("Failed to create blob from canvas")},"image/png")})}const Y=({offsetX:h,offsetY:I})=>{if(!u)return;let b=R({offsetX:h,offsetY:I});if(p){const{x:dt,y:G}=p;e(n).beginPath(),e(n).moveTo(dt,G),e(n).lineTo(b.offsetX,b.offsetY),e(n).closePath(),e(n).stroke()}p={x:b.offsetX,y:b.offsetY}},K=()=>{const{top:h,left:I}=e(k).getBoundingClientRect();_=h,m=I,e(n).fillStyle=f,e(n).fillRect(0,0,i,d)};var X=ce(),T=c(X);return ht(T,"width",i),ht(T,"height",d),T.__mousedown=B,T.__touchstart=h=>{const{clientX:I,clientY:b}=h.touches[0];B({offsetX:I-m,offsetY:b-_})},T.__mouseup=C,T.__touchend=C,T.__mousemove=h=>{h.buttons===1?Y(h):u=!1},T.__touchmove=h=>{if(h.touches.length===1){const{clientX:I,clientY:b}=h.touches[0];Y({offsetX:I-m,offsetY:b-_})}else u=!1},H(T,"background",f),yt(T,h=>s(k,h),()=>e(k)),v(X),Ut("pointerleave",T,()=>{p=null,u&&x.push(e(n).getImageData(0,0,i,d))}),Et(T,"clientHeight",h=>s(S,h)),Et(T,"clientWidth",h=>s(A,h)),M(o,X),gt({undo:E,clear:D,getImage:j})}_t(["mousedown","touchstart","mouseup","touchend","mousemove","touchmove"]);var he=(o,t)=>{s(t,"#000000")},fe=(o,t)=>{s(t,"#ffffff")},ue=P('<div class="grid-container svelte-1pdaotk"><div class="drawing-canvas svelte-1pdaotk"><!></div> <div class="toolbar svelte-1pdaotk"><button class="button svelte-1pdaotk" aria-label="Undo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 14l-4 -4l4 -4"></path><path d="M5 10h11a4 4 0 1 1 0 8h-1"></path></svg></button> <input class="button svelte-1pdaotk" type="color"> <button class="button svelte-1pdaotk" aria-label="Brush"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 21v-4a4 4 0 1 1 4 4h-4"></path><path d="M21 3a16 16 0 0 0 -12.8 10.2"></path><path d="M21 3a16 16 0 0 1 -10.2 12.8"></path><path d="M10.6 9a9 9 0 0 1 4.4 4.4"></path></svg></button> <button class="button svelte-1pdaotk" aria-label="Eraser"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"></path><path d="M18 13.3l-6.3 -6.3"></path></svg></button> <div class="slider-wrapper svelte-1pdaotk"><input type="range" class="slider svelte-1pdaotk" max="20"></div> <div class="slider-wrapper svelte-1pdaotk"><p class="svelte-1pdaotk"> </p></div> <button class="button svelte-1pdaotk" aria-label="Clear"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></button></div></div>');function pe(o,t){pt(t,!0);let a=w(null),l=w("#000000"),i=w(3);async function d(){return await e(a).getImage()}var f=ue(),k=c(f),n=c(k);yt(ve(n,{get color(){return e(l)},get lineWidth(){return e(i)}}),D=>s(a,rt(D)),()=>e(a)),v(k);var u=g(k,2),p=c(u);p.__click=function(...D){var j;(j=e(a).undo)==null||j.apply(this,D)};var _=g(p,2);Rt(_);var m=g(_,2);m.__click=[he,l];var A=g(m,2);A.__click=[fe,l];var S=g(A,2);H(S,"flex","1");var x=c(S);Rt(x),v(S);var R=g(S,2);H(R,"flex","1");var B=c(R),C=c(B,!0);v(B),v(R);var E=g(R,2);return E.__click=function(...D){var j;(j=e(a).clear)==null||j.apply(this,D)},v(u),v(f),et(()=>at(C,e(i))),Tt(_,()=>e(l),D=>s(l,D)),Tt(x,()=>e(i),D=>s(i,D)),J(3,f,()=>V,()=>({axis:"y",duration:500})),M(o,f),gt({getImage:d})}_t(["click"]);var ge=P('<div class="anim"></div>');function Xt(o,t){pt(t,!0);let a,l=null,i;xt(async()=>{a=await ne(()=>import("./lottie.CvEQ06TD.js").then(p=>p.l),[],import.meta.url),await k(),a&&l&&(i=a.loadAnimation({container:l,loop:!1,animationData:f}));const u=new IntersectionObserver(p=>{p.forEach(_=>{_.isIntersecting&&d()})});return l&&u.observe(l),()=>{l&&u.unobserve(l),u.disconnect()}});function d(){a&&i&&i.isPaused&&i&&i.goToAndPlay(0,!0)}let f;async function k(){const u=`anim_${t.avatarId}_${t.emoteId}`,p=sessionStorage.getItem(u);if(p){f=JSON.parse(p);return}try{const _=await fetch(`${ot}/avatar/${t.avatarId}/${t.emoteId}`);_.ok&&(f=await _.json(),sessionStorage.setItem(u,JSON.stringify(f)))}catch{}}var n=ge();n.__click=d,yt(n,u=>l=u,()=>l),Ut("mouseenter",n,d),M(o,n),gt()}_t(["click"]);function _e(o,t){s(t,!e(t))}async function me(o,t,a,l,i,d,f,k,n,u){if(lt()){const p={text:e(t)===""?null:e(t),language:navigator.language.startsWith("es")?"es":"en",emoteId:e(a),replyTo:l()};s(i,!0);try{const _=await fetch(ot+"/post",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ft()},body:JSON.stringify(p)});if(!_.ok)_.status===403?s(d,"Error 403"):_.status===500?s(d,"Error 500"):s(d,"An error occurred."),s(f,!0);else{s(f,!1);const m=await _.text();if(e(k)){const A=new FormData,S=await e(n).getImage();A.append("drawing",S,"drawing.png"),(await fetch(ot+"/post/drawing/"+m,{method:"POST",headers:{Authorization:"Bearer "+ft()},body:A})).ok||(s(d,"An error occurred while trying to upload the image."),s(f,!0))}u()(m)}}catch(_){s(d,"Couldn't connect to the server."+_),s(f,!0)}s(i,!1)}}function be(o,t){e(t)!==4?se(t):s(t,0)}var we=P('<article><strong> </strong> <footer><div class="anim-txt svelte-12dgewf"><div class="anim svelte-12dgewf"><!></div> <textarea maxlength="280" name="text" placeholder="Write something..." class="svelte-12dgewf"></textarea></div> <div class="new-post-button-container svelte-12dgewf"><button class="svelte-12dgewf"> </button> <button class="svelte-12dgewf">Send</button></div></footer></article> <!> <!>',1);function ke(o,t){pt(t,!0);let a=$(t,"replyTo",3,null),l=$(t,"onsend",3,()=>{}),i=w(""),d=w(!1),f=w(!1),k=w(!1),n=w(!1),u=w(""),p=w(!1),_=w(null);xt(()=>{lt()&&m()});async function m(){A("can-post").then(B=>{s(k,rt(B)),e(k)?A("can-post-drawing").then(C=>{s(f,rt(C)),e(f)||(s(i,"You reached your daily drawing limit."),s(d,!0))}):(s(i,"You reached your daily post limit."),s(d,!0))})}async function A(B){try{const C=await fetch(ot+"/post/"+B,{method:"GET",headers:{Authorization:"Bearer "+ft()}});if(C.ok)return await C.text()==="true"}catch(C){throw s(i,"Couldn't connect to the server to check if you can post."),s(d,!0),C}return!1}let S=w(0);var x=Ct(),R=vt(x);L(R,()=>N.isLoggedIn&&N.cachedUserData,B=>{var C=we(),E=vt(C),D=c(E),j=c(D,!0);v(D);var Y=g(D,2),K=c(Y),X=c(K);X.__click=[be,S];var T=c(X);le(T,()=>e(S),W=>{Xt(W,{get avatarId(){return N.cachedUserData.avatarId},get emoteId(){return e(S)}})}),v(X);var h=g(X,2);re(h),v(K);var I=g(K,2),b=c(I);b.__click=[_e,p];var dt=c(b,!0);v(b);var G=g(b,2);G.__click=[me,u,S,a,n,i,d,p,_,l],v(I),v(Y),v(E);var st=g(E,2);L(st,()=>e(p),W=>{yt(pe(W,{}),mt=>s(_,rt(mt)),()=>e(_))});var It=g(st,2);L(It,()=>e(d),W=>{ie(W,{get text(){return e(i)},removeAction:()=>{s(d,!1)},marginTop:"var(--pico-spacing)"})}),et(()=>{at(j,a()?"Reply to this post":"Make a post!"),h.disabled=!e(f)||!e(k)||e(n),H(h,"resize","none"),b.disabled=!e(f)||!e(k)||e(n),at(dt,e(p)?"Remove drawing":"Add drawing"),G.disabled=!e(k)||e(n)||e(u)===""&&!e(p)}),Tt(h,()=>e(u),W=>s(u,W)),M(B,C)}),M(o,x),gt()}_t(["click"]);var xe=P('<p class="svelte-11b71a6"> </p>'),ye=P('<img class="drawing svelte-11b71a6" alt="Drawing">'),Ie=P("<div>Failed to load image</div>"),Me=P("<div>Loading</div>"),De=(o,t)=>{lt(),N.isLoggedIn?t():bt(nt+"/account/login")},Ce=P('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon liked svelte-11b71a6"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"></path></svg>'),Te=P('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon svelte-11b71a6"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"></path></svg>'),ze=P('<div class="sbs svelte-11b71a6"><button aria-label="Like this post" class="svelte-11b71a6"><!></button> <p class="svelte-11b71a6"> </p></div>'),Pe=(o,t)=>{lt(),N.isLoggedIn?s(t,!e(t)):bt(nt+"/account/login")},Se=P('<div class="sbs svelte-11b71a6"><button aria-label="Comment this post" class="svelte-11b71a6"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon svelte-11b71a6"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1"></path></svg></button> <p class="svelte-11b71a6"> </p></div>'),Ae=(o,t,a)=>{e(t)===0?(s(t,1),setTimeout(()=>{s(t,0)},5e3)):a()},Be=P('<div class="prevent-line-jump svelte-11b71a6"><p class="svelte-11b71a6">Click again to confirm</p></div>'),Le=P('<div class="sbs svelte-11b71a6"><button aria-label="Delete this post" class="svelte-11b71a6"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon svelte-11b71a6"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></button> <!></div>'),je=(o,t)=>{lt()?bt(nt+"/home/report?reported="+t().post.userId+"&postId="+t().post.id):bt(nt+"/account/login")},Oe=P('<button aria-label="Report this post" class="svelte-11b71a6"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon svelte-11b71a6"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 14h14l-4.5 -4.5l4.5 -4.5h-14v16"></path></svg></button>'),Re=P("<div><!></div>"),Ee=P('<div class="post svelte-11b71a6"><div class="clmn svelte-11b71a6"><div class="post-content svelte-11b71a6"><div class="user-datetime svelte-11b71a6"><a class="svelte-11b71a6"><strong> </strong></a> <p class="svelte-11b71a6">&bull;</p> <p class="svelte-11b71a6"></p></div> <a aria-label="Post" class="svelte-11b71a6"><!> <!></a></div> <div class="sbs svelte-11b71a6"><div class="lottie svelte-11b71a6"><!></div> <div class="controls svelte-11b71a6"><!> <!> <div></div> <!> <!></div></div></div></div> <!>',1);function ia(o,t){pt(t,!0);let a=$(t,"post",7),l=$(t,"redirectOnClick",3,"false"),i=$(t,"replied",3,()=>{}),d=$(t,"ondelete",3,()=>{}),f=w(!1);xt(()=>{lt(),a().post.drawingUri&&_(),s(m,a().liked===!0)});let k=new Date(a().post.creationDateTime),n=new Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(k),u=w(!0),p=w(null);async function _(){s(u,!0);try{const y=await fetch(ot+"/post/drawing/"+a().post.id);if(y.status!==200)s(p,null);else{const r=await y.blob();s(p,rt(URL.createObjectURL(r)))}}catch{s(p,null)}s(u,!1)}let m=w(!1),A=w(!1);async function S(){s(A,!0),s(m,!e(m));const y={liked:e(m),postId:a().post.id};try{(await fetch(ot+"/post/like",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ft()},body:JSON.stringify(y)})).ok?e(m)?a().likes+=1:a().likes-=1:s(m,!e(m))}catch{s(m,!e(m))}s(A,!1)}let x=w(0);async function R(){try{(await fetch(ot+"/post/"+a().post.id,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ft()}})).ok&&d()(a().post.id)}catch{}}var B=Ee(),C=vt(B),E=c(C);H(E,"gap","1rem");var D=c(E),j=c(D),Y=c(j),K=c(Y),X=c(K,!0);v(K),v(Y);var T=g(Y,2);H(T,"color","grey");var h=g(T,2);h.textContent=n,v(j);var I=g(j,2),b=c(I);L(b,()=>a().post.text,y=>{var r=xe(),z=c(r,!0);v(r),et(()=>at(z,a().post.text)),M(y,r)});var dt=g(b,2);L(dt,()=>a().post.drawingUri,y=>{var r=Ct(),z=vt(r);L(z,()=>!e(u),O=>{var U=Ct(),tt=vt(U);L(tt,()=>e(p),F=>{var Z=ye();et(()=>ht(Z,"src",e(p))),M(F,Z)},F=>{var Z=Ie();M(F,Z)}),M(O,U)},O=>{var U=Me();M(O,U)}),M(y,r)}),v(I),v(D);var G=g(D,2);H(G,"gap","1rem");var st=c(G),It=c(st);Xt(It,{get avatarId(){return a().avatarId},get emoteId(){return a().post.emoteId}}),v(st);var W=g(st,2),mt=c(W);L(mt,()=>e(x)===0,y=>{var r=ze();H(r,"margin-right","20px");var z=c(r);z.__click=[De,S];var O=c(z);L(O,()=>e(m)&&e(m)===!0,F=>{var Z=Ce();M(F,Z)},F=>{var Z=Te();M(F,Z)}),v(z);var U=g(z,2),tt=c(U,!0);v(U),v(r),et(()=>{z.disabled=e(A),at(tt,a().likes)}),J(1,r,()=>V,()=>({axis:"x",duration:500,delay:500})),J(2,r,()=>V,()=>({axis:"x",duration:500})),M(y,r)});var Pt=g(mt,2);L(Pt,()=>!a().post.replyTo&&e(x)===0,y=>{var r=Se(),z=c(r);z.__click=[Pe,f];var O=g(z,2),U=c(O,!0);v(O),v(r),et(()=>at(U,a().comments)),J(1,r,()=>V,()=>({axis:"x",duration:500,delay:500})),J(2,r,()=>V,()=>({axis:"x",duration:500})),M(y,r)});var St=g(Pt,2);H(St,"flex-grow","1");var At=g(St,2);L(At,()=>N.cachedUserData&&(a().post.userId===N.cachedUserData.id||N.cachedUserData.role==="OWNER"||N.cachedUserData.role==="MODERATOR"),y=>{var r=Le(),z=c(r);z.__click=[Ae,x,R];var O=g(z,2);L(O,()=>e(x)===1,U=>{var tt=Be(),F=c(tt);v(tt),J(3,F,()=>V,()=>({axis:"x",duration:500})),M(U,tt)}),v(r),M(y,r)});var Wt=g(At,2);L(Wt,()=>e(x)===0,y=>{var r=Oe();r.__click=[je,a],H(r,"margin-left","20px"),J(1,r,()=>V,()=>({axis:"x",duration:500,delay:500})),J(2,r,()=>V,()=>({axis:"x",duration:500})),M(y,r)}),v(W),v(G),v(E),v(C);var Ht=g(C,2);L(Ht,()=>e(f)&&!a().post.teplyTo,y=>{var r=Re(),z=c(r);ke(z,{get replyTo(){return a().post.id},onsend:O=>{s(f,!1),a().comments+=1,i()(O)}}),v(r),J(3,r,()=>V,()=>({axis:"y",duration:500})),M(y,r)}),et(()=>{ht(Y,"href",nt+(N.isLoggedIn?"/home/user?userId="+a().post.userId:"/account/login")),at(X,a().nickname),ht(I,"href",l()==="true"?nt+"/home/post?postId="+a().post.id:null)}),M(o,B),gt()}_t(["click"]);export{ia as F,Xt as L,ke as P};
