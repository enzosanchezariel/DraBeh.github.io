var Nt=Object.defineProperty;var Bt=o=>{throw TypeError(o)};var Ft=(o,t,a)=>t in o?Nt(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a;var Lt=(o,t,a)=>Ft(o,typeof t!="symbol"?t+"":t,a),Mt=(o,t,a)=>t.has(o)||Bt("Cannot "+a);var q=(o,t,a)=>(Mt(o,t,"read from private field"),a?a.call(o):t.get(o)),ct=(o,t,a)=>t.has(o)?Bt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,a),Dt=(o,t,a,l)=>(Mt(o,t,"write to private field"),l?l.call(o,a):t.set(o,a),a),jt=(o,t,a)=>(Mt(o,t,"access private method"),a);import{a as M,t as P,c as Ct}from"./disclose-version.CLVP8wdO.js";import{h as Ot,_ as qt,A as Jt,aM as Vt,aN as Kt,b as Gt,a6 as Zt,d as Qt,f as $t,as as te,X as ee,q as ae,p as ft,j as r,i as e,m as oe,c,r as v,a as gt,k as w,s as g,t as et,g as vt,aO as re}from"./runtime.OFQIcp2P.js";import{d as mt,e as Ut,s as at}from"./render.BVhLVIDF.js";import{i as L}from"./if.CxsERAfj.js";import{s as ht,r as Rt}from"./attributes.CGWwtoYz.js";import{s as Y}from"./style.PwPRnE0L.js";import{t as J,s as V}from"./index.xyXJjMDu.js";import{p as st}from"./proxy.B9U5D_Zu.js";import{p as $}from"./props.Dg3GoPRi.js";import{o as xt}from"./index-client.DzRFANZT.js";import{P as ot}from"./public.CHZCeYTi.js";import{r as se}from"./misc.B3A1_1qC.js";import{b as Tt}from"./input.DJG4wHAv.js";import{b as yt}from"./this.DL9b0rlM.js";import{g as kt}from"./entry.DizJwZPz.js";import{E as ie}from"./ErrorArticle.Djy6cXaC.js";import{i as lt,j as ut}from"./jwtRetriever.svelte.eYKYCOXx.js";import{s as N}from"./shared.svelte.Crem28hc.js";import{_ as ne}from"./preload-helper.C1FmrZbK.js";import{b as nt}from"./paths.PXPKDCFQ.js";function le(o,t,a){Ot&&qt();var l=o,i=te,d,u=Jt()?Vt:Kt;Gt(()=>{u(i,i=t())&&(d&&Zt(d),d=Qt(()=>a(l)))}),Ot&&(l=$t)}var Q,it,pt,wt,Yt;const bt=class bt{constructor(t){ct(this,wt);ct(this,Q,new WeakMap);ct(this,it);ct(this,pt);Dt(this,pt,t)}observe(t,a){var l=q(this,Q).get(t)||new Set;return l.add(a),q(this,Q).set(t,l),jt(this,wt,Yt).call(this).observe(t,q(this,pt)),()=>{var i=q(this,Q).get(t);i.delete(a),i.size===0&&(q(this,Q).delete(t),q(this,it).unobserve(t))}}};Q=new WeakMap,it=new WeakMap,pt=new WeakMap,wt=new WeakSet,Yt=function(){return q(this,it)??Dt(this,it,new ResizeObserver(t=>{for(var a of t){bt.entries.set(a.target,a);for(var l of q(this,Q).get(a.target)||[])l(a)}}))},Lt(bt,"entries",new WeakMap);let zt=bt;var de=new zt({box:"border-box"});function Et(o,t,a){var l=de.observe(o,()=>a(o[t]));ee(()=>(ae(()=>a(o[t])),l))}var ce=P('<div><canvas class="svelte-1iibbfh"></canvas></div>');function ve(o,t){ft(t,!0);let a=$(t,"color",3,"#000000"),l=$(t,"lineWidth",3,3),i=380,d=256,u="#ffffff",b=w(void 0),n=w(void 0),p,f,m,_,A=w(i),S=w(d),x=[];xt(()=>{r(n,st(e(b).getContext("2d"))),e(n).lineCap="round",e(n).lineJoin="round",e(n).imageSmoothingEnabled=!1,K(),x.push(e(n).getImageData(0,0,i,d))}),oe(()=>{e(n)&&(e(n).strokeStyle=a(),e(n).lineWidth=l())});const R=({offsetX:h,offsetY:I})=>({offsetX:i/e(A)*h,offsetY:d/e(S)*I}),B=({offsetX:h,offsetY:I})=>{p=!0;let k=R({offsetX:h,offsetY:I});f={x:k.offsetX,y:k.offsetY}},C=()=>{p=!1,x.push(e(n).getImageData(0,0,i,d))};function E(){x.length>1&&(x.pop(),e(n).putImageData(x[x.length-1],0,0))}function D(){e(n).fillStyle=u,e(n).fillRect(0,0,i,d),x.push(e(n).getImageData(0,0,i,d))}function j(){return new Promise((h,I)=>{e(b).toBlob(k=>{k?h(k):I("Failed to create blob from canvas")},"image/png")})}const X=({offsetX:h,offsetY:I})=>{if(!p)return;let k=R({offsetX:h,offsetY:I});if(f){const{x:dt,y:G}=f;e(n).beginPath(),e(n).moveTo(dt,G),e(n).lineTo(k.offsetX,k.offsetY),e(n).closePath(),e(n).stroke()}f={x:k.offsetX,y:k.offsetY}},K=()=>{const{top:h,left:I}=e(b).getBoundingClientRect();m=h,_=I,e(n).fillStyle=u,e(n).fillRect(0,0,i,d)};var W=ce(),T=c(W);return ht(T,"width",i),ht(T,"height",d),T.__mousedown=B,T.__touchstart=h=>{const{clientX:I,clientY:k}=h.touches[0];B({offsetX:I-_,offsetY:k-m})},T.__mouseup=C,T.__touchend=C,T.__mousemove=h=>{h.buttons===1?X(h):p=!1},T.__touchmove=h=>{if(h.touches.length===1){const{clientX:I,clientY:k}=h.touches[0];X({offsetX:I-_,offsetY:k-m})}else p=!1},Y(T,"background",u),yt(T,h=>r(b,h),()=>e(b)),v(W),Ut("pointerleave",T,()=>{f=null,p&&x.push(e(n).getImageData(0,0,i,d))}),Et(T,"clientHeight",h=>r(S,h)),Et(T,"clientWidth",h=>r(A,h)),M(o,W),gt({undo:E,clear:D,getImage:j})}mt(["mousedown","touchstart","mouseup","touchend","mousemove","touchmove"]);var he=(o,t)=>{r(t,"#000000")},ue=(o,t)=>{r(t,"#ffffff")},pe=P('<div class="grid-container svelte-1pdaotk"><div class="drawing-canvas svelte-1pdaotk"><!></div> <div class="toolbar svelte-1pdaotk"><button class="button svelte-1pdaotk" aria-label="Undo"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 14l-4 -4l4 -4"></path><path d="M5 10h11a4 4 0 1 1 0 8h-1"></path></svg></button> <input class="button svelte-1pdaotk" type="color"> <button class="button svelte-1pdaotk" aria-label="Brush"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 21v-4a4 4 0 1 1 4 4h-4"></path><path d="M21 3a16 16 0 0 0 -12.8 10.2"></path><path d="M21 3a16 16 0 0 1 -10.2 12.8"></path><path d="M10.6 9a9 9 0 0 1 4.4 4.4"></path></svg></button> <button class="button svelte-1pdaotk" aria-label="Eraser"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"></path><path d="M18 13.3l-6.3 -6.3"></path></svg></button> <div class="slider-wrapper svelte-1pdaotk"><input type="range" class="slider svelte-1pdaotk" max="20"></div> <div class="slider-wrapper svelte-1pdaotk"><p class="svelte-1pdaotk"> </p></div> <button class="button svelte-1pdaotk" aria-label="Clear"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></button></div></div>');function fe(o,t){ft(t,!0);let a=w(null),l=w("#000000"),i=w(3);async function d(){return await e(a).getImage()}var u=pe(),b=c(u),n=c(b);yt(ve(n,{get color(){return e(l)},get lineWidth(){return e(i)}}),D=>r(a,st(D)),()=>e(a)),v(b);var p=g(b,2),f=c(p);f.__click=function(...D){var j;(j=e(a).undo)==null||j.apply(this,D)};var m=g(f,2);Rt(m);var _=g(m,2);_.__click=[he,l];var A=g(_,2);A.__click=[ue,l];var S=g(A,2);Y(S,"flex","1");var x=c(S);Rt(x),v(S);var R=g(S,2);Y(R,"flex","1");var B=c(R),C=c(B,!0);v(B),v(R);var E=g(R,2);return E.__click=function(...D){var j;(j=e(a).clear)==null||j.apply(this,D)},v(p),v(u),et(()=>at(C,e(i))),Tt(m,()=>e(l),D=>r(l,D)),Tt(x,()=>e(i),D=>r(i,D)),J(3,u,()=>V,()=>({axis:"y",duration:500})),M(o,u),gt({getImage:d})}mt(["click"]);var ge=P('<div class="anim"></div>');function Xt(o,t){ft(t,!0);let a,l=null,i;xt(async()=>{a=await ne(()=>import("./lottie.CvEQ06TD.js").then(f=>f.l),[],import.meta.url),await b(),a&&l&&(i=a.loadAnimation({container:l,loop:!1,animationData:u}));const p=new IntersectionObserver(f=>{f.forEach(m=>{m.isIntersecting&&d()})});return l&&p.observe(l),()=>{l&&p.unobserve(l),p.disconnect()}});function d(){a&&i&&i.isPaused&&i&&i.goToAndPlay(0,!0)}let u;async function b(){const p=`anim_${t.userId}_${t.emoteId}`,f=sessionStorage.getItem(p);if(f){u=JSON.parse(f);return}try{const m=await fetch(`${ot}/avatar-user/${t.userId}/${t.emoteId}`);m.ok&&(u=await m.json(),sessionStorage.setItem(p,JSON.stringify(u)))}catch{}}var n=ge();n.__click=d,yt(n,p=>l=p,()=>l),Ut("mouseenter",n,d),M(o,n),gt()}mt(["click"]);function me(o,t){r(t,!e(t))}async function _e(o,t,a,l,i,d,u,b,n,p){if(lt()){const f={text:e(t)===""?null:e(t),language:navigator.language.startsWith("es")?"es":"en",emoteId:e(a),replyTo:l()};r(i,!0);try{const m=await fetch(ot+"/post",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ut()},body:JSON.stringify(f)});if(!m.ok)m.status===403?r(d,"Error 403"):m.status===500?r(d,"Error 500"):r(d,"An error occurred."),r(u,!0);else{r(u,!1);const _=await m.text();if(e(b)){const A=new FormData,S=await e(n).getImage();A.append("drawing",S,"drawing.png"),(await fetch(ot+"/post/drawing/"+_,{method:"POST",headers:{Authorization:"Bearer "+ut()},body:A})).ok||(r(d,"An error occurred while trying to upload the image."),r(u,!0))}p()(_)}}catch(m){r(d,"Couldn't connect to the server."+m),r(u,!0)}r(i,!1)}}function ke(o,t){e(t)!==4?re(t):r(t,0)}var we=P('<article><strong> </strong> <footer><div class="anim-txt svelte-1kl9oyo"><div class="anim svelte-1kl9oyo"><!></div> <textarea maxlength="280" name="text" placeholder="Write something..." class="svelte-1kl9oyo"></textarea></div> <div class="new-post-button-container svelte-1kl9oyo"><button class="svelte-1kl9oyo"> </button> <button class="svelte-1kl9oyo">Send</button></div></footer></article> <!> <!>',1);function be(o,t){ft(t,!0);let a=$(t,"replyTo",3,null),l=$(t,"onsend",3,()=>{}),i=w(""),d=w(!1),u=w(!1),b=w(!1),n=w(!1),p=w(""),f=w(!1),m=w(null);xt(()=>{lt()&&_()});async function _(){A("can-post").then(B=>{r(b,st(B)),e(b)?A("can-post-drawing").then(C=>{r(u,st(C)),e(u)||(r(i,"You reached your daily drawing limit."),r(d,!0))}):(r(i,"You reached your daily post limit."),r(d,!0))})}async function A(B){try{const C=await fetch(ot+"/post/"+B,{method:"GET",headers:{Authorization:"Bearer "+ut()}});if(C.ok)return await C.text()==="true"}catch(C){throw r(i,"Couldn't connect to the server to check if you can post."),r(d,!0),C}return!1}let S=w(0);var x=Ct(),R=vt(x);L(R,()=>N.isLoggedIn&&N.cachedUserData,B=>{var C=we(),E=vt(C),D=c(E),j=c(D,!0);v(D);var X=g(D,2),K=c(X),W=c(K);W.__click=[ke,S];var T=c(W);le(T,()=>e(S),H=>{Xt(H,{get userId(){return N.cachedUserData.id},get emoteId(){return e(S)}})}),v(W);var h=g(W,2);se(h),v(K);var I=g(K,2),k=c(I);k.__click=[me,f];var dt=c(k,!0);v(k);var G=g(k,2);G.__click=[_e,p,S,a,n,i,d,f,m,l],v(I),v(X),v(E);var rt=g(E,2);L(rt,()=>e(f),H=>{yt(fe(H,{}),_t=>r(m,st(_t)),()=>e(m))});var It=g(rt,2);L(It,()=>e(d),H=>{ie(H,{get text(){return e(i)},removeAction:()=>{r(d,!1)},marginTop:"var(--pico-spacing)"})}),et(()=>{at(j,a()?"Reply to this post":"Make a post!"),h.disabled=!e(u)||!e(b)||e(n),Y(h,"height","100px"),Y(h,"resize","none"),k.disabled=!e(u)||!e(b)||e(n),at(dt,e(f)?"Remove drawing":"Add drawing"),G.disabled=!e(b)||e(n)||e(p)===""&&!e(f)}),Tt(h,()=>e(p),H=>r(p,H)),M(B,C)}),M(o,x),gt()}mt(["click"]);var xe=P('<p class="svelte-mrrl3g"> </p>'),ye=P('<img class="drawing svelte-mrrl3g" alt="Drawing">'),Ie=P("<div>Failed to load image</div>"),Me=P("<div>Loading</div>"),De=(o,t)=>{lt(),N.isLoggedIn?t():kt(nt+"/account/login")},Ce=P('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon liked svelte-mrrl3g"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z"></path></svg>'),Te=P('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon svelte-mrrl3g"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"></path></svg>'),ze=P('<div class="sbs svelte-mrrl3g"><button aria-label="Like this post" class="svelte-mrrl3g"><!></button> <p class="svelte-mrrl3g"> </p></div>'),Pe=(o,t)=>{lt(),N.isLoggedIn?r(t,!e(t)):kt(nt+"/account/login")},Se=P('<div class="sbs svelte-mrrl3g"><button aria-label="Comment this post" class="svelte-mrrl3g"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon svelte-mrrl3g"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1"></path></svg></button> <p class="svelte-mrrl3g"> </p></div>'),Ae=(o,t,a)=>{e(t)===0?(r(t,1),setTimeout(()=>{r(t,0)},5e3)):a()},Be=P('<div class="prevent-line-jump svelte-mrrl3g"><p class="svelte-mrrl3g">Click again to confirm</p></div>'),Le=P('<div class="sbs svelte-mrrl3g"><button aria-label="Delete this post" class="svelte-mrrl3g"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon svelte-mrrl3g"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path></svg></button> <!></div>'),je=(o,t)=>{lt()?kt(nt+"/home/report?reported="+t().post.userId+"&postId="+t().post.id):kt(nt+"/account/login")},Oe=P('<button aria-label="Report this post" class="svelte-mrrl3g"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon svelte-mrrl3g"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M5 14h14l-4.5 -4.5l4.5 -4.5h-14v16"></path></svg></button>'),Re=P("<div><!></div>"),Ee=P('<div class="post svelte-mrrl3g"><div class="clmn svelte-mrrl3g"><div class="post-content svelte-mrrl3g"><div class="user-datetime svelte-mrrl3g"><a class="svelte-mrrl3g"><strong> </strong></a> <p class="svelte-mrrl3g">&bull;</p> <p class="svelte-mrrl3g"></p></div> <a aria-label="Post" class="svelte-mrrl3g"><!> <!></a></div> <div class="sbs svelte-mrrl3g"><div class="lottie svelte-mrrl3g"><!></div> <div class="controls svelte-mrrl3g"><!> <!> <div></div> <!> <!></div></div></div></div> <!>',1);function ia(o,t){ft(t,!0);let a=$(t,"post",7),l=$(t,"redirectOnClick",3,"false"),i=$(t,"replied",3,()=>{}),d=$(t,"ondelete",3,()=>{}),u=w(!1);xt(()=>{lt(),a().post.drawingUri&&m(),r(_,a().liked===!0)});let b=new Date(a().post.creationDateTime),n=new Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(b),p=w(!0),f=w(null);async function m(){r(p,!0);try{const y=await fetch(ot+"/post/drawing/"+a().post.id);if(y.status!==200)r(f,null);else{const s=await y.blob();r(f,st(URL.createObjectURL(s)))}}catch{r(f,null)}r(p,!1)}let _=w(!1),A=w(!1);async function S(){r(A,!0),r(_,!e(_));const y={liked:e(_),postId:a().post.id};try{(await fetch(ot+"/post/like",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ut()},body:JSON.stringify(y)})).ok?e(_)?a().likes+=1:a().likes-=1:r(_,!e(_))}catch{r(_,!e(_))}r(A,!1)}let x=w(0);async function R(){try{(await fetch(ot+"/post/"+a().post.id,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+ut()}})).ok&&d()(a().post.id)}catch{}}var B=Ee(),C=vt(B),E=c(C);Y(E,"gap","1rem");var D=c(E),j=c(D),X=c(j),K=c(X),W=c(K,!0);v(K),v(X);var T=g(X,2);Y(T,"color","grey");var h=g(T,2);h.textContent=n,v(j);var I=g(j,2),k=c(I);L(k,()=>a().post.text,y=>{var s=xe(),z=c(s,!0);v(s),et(()=>at(z,a().post.text)),M(y,s)});var dt=g(k,2);L(dt,()=>a().post.drawingUri,y=>{var s=Ct(),z=vt(s);L(z,()=>!e(p),O=>{var U=Ct(),tt=vt(U);L(tt,()=>e(f),F=>{var Z=ye();et(()=>ht(Z,"src",e(f))),M(F,Z)},F=>{var Z=Ie();M(F,Z)}),M(O,U)},O=>{var U=Me();M(O,U)}),M(y,s)}),v(I),v(D);var G=g(D,2);Y(G,"gap","1rem");var rt=c(G),It=c(rt);Xt(It,{get userId(){return a().post.userId},get emoteId(){return a().post.emoteId}}),v(rt);var H=g(rt,2),_t=c(H);L(_t,()=>e(x)===0,y=>{var s=ze();Y(s,"margin-right","20px");var z=c(s);z.__click=[De,S];var O=c(z);L(O,()=>e(_)&&e(_)===!0,F=>{var Z=Ce();M(F,Z)},F=>{var Z=Te();M(F,Z)}),v(z);var U=g(z,2),tt=c(U,!0);v(U),v(s),et(()=>{z.disabled=e(A),at(tt,a().likes)}),J(1,s,()=>V,()=>({axis:"x",duration:500,delay:500})),J(2,s,()=>V,()=>({axis:"x",duration:500})),M(y,s)});var Pt=g(_t,2);L(Pt,()=>!a().post.replyTo&&e(x)===0,y=>{var s=Se(),z=c(s);z.__click=[Pe,u];var O=g(z,2),U=c(O,!0);v(O),v(s),et(()=>at(U,a().comments)),J(1,s,()=>V,()=>({axis:"x",duration:500,delay:500})),J(2,s,()=>V,()=>({axis:"x",duration:500})),M(y,s)});var St=g(Pt,2);Y(St,"flex-grow","1");var At=g(St,2);L(At,()=>N.cachedUserData&&(a().post.userId===N.cachedUserData.id||N.cachedUserData.role==="OWNER"||N.cachedUserData.role==="MODERATOR"),y=>{var s=Le(),z=c(s);z.__click=[Ae,x,R];var O=g(z,2);L(O,()=>e(x)===1,U=>{var tt=Be(),F=c(tt);v(tt),J(3,F,()=>V,()=>({axis:"x",duration:500})),M(U,tt)}),v(s),M(y,s)});var Wt=g(At,2);L(Wt,()=>e(x)===0,y=>{var s=Oe();s.__click=[je,a],Y(s,"margin-left","20px"),J(1,s,()=>V,()=>({axis:"x",duration:500,delay:500})),J(2,s,()=>V,()=>({axis:"x",duration:500})),M(y,s)}),v(H),v(G),v(E),v(C);var Ht=g(C,2);L(Ht,()=>e(u)&&!a().post.teplyTo,y=>{var s=Re(),z=c(s);be(z,{get replyTo(){return a().post.id},onsend:O=>{r(u,!1),a().comments+=1,i()(O)}}),v(s),J(3,s,()=>V,()=>({axis:"y",duration:500})),M(y,s)}),et(()=>{ht(X,"href",nt+(N.isLoggedIn?"/home/user?userId="+a().post.userId:"/account/login")),at(W,a().nickname),ht(I,"href",nt+(l()==="true"?"/home/post?postId="+a().post.id:"#"))}),M(o,B),gt()}mt(["click"]);export{ia as F,Xt as L,be as P};
