import{a as d,t as c}from"../chunks/disclose-version.D9m7xwQo.js";import{h as W,_ as z,p as C,a as F,j as L,s as r,f as R,t as G,i as w,k as A,c as s,r as o}from"../chunks/runtime.DfkX_MRI.js";import{d as J}from"../chunks/render.C_RUzaBA.js";import{i as u}from"../chunks/if.Che8I7_Z.js";import{s as g}from"../chunks/attributes.Dy5-VJ7D.js";import{s as N}from"../chunks/style.PwPRnE0L.js";import{t as B,s as E}from"../chunks/index.BZ_PEADJ.js";import{o as K}from"../chunks/index-client.D7pkVx_0.js";import{g as P}from"../chunks/entry.B_5C_Fe6.js";import{b as v}from"../chunks/paths.BDr6tJJm.js";import{N as Q}from"../chunks/Notifications.C8Xk5UDR.js";import{i as V,c as X,h as Y,l as Z}from"../chunks/jwtRetriever.svelte.DgyyIg0v.js";import{n as aa,s as l}from"../chunks/shared.svelte.BeaxiWn1.js";function ta(D,e,_,b,k){var m;W&&z();var f=(m=e.$$slots)==null?void 0:m[_],q=!1;f===!0&&(f=e.children,q=!0),f===void 0||f(D,q?()=>b:b)}var ra=c('<a class="sidebar-button svelte-wqdqia" role="button"><strong>My profile</strong></a>'),sa=()=>{Z(),P(v+"/account/login")},oa=c('<!> <a class="sidebar-button svelte-wqdqia" role="button"><strong>Settings</strong></a>  <a class="sidebar-button svelte-wqdqia" role="button"><strong>Log out</strong></a>',1),ea=c('<a class="sidebar-button svelte-wqdqia" role="button"><strong>Log in</strong></a> <a class="sidebar-button svelte-wqdqia" role="button"><strong>Sign up</strong></a>',1),ia=(D,e,_)=>{L(e,!w(e)),w(e)&&L(_,!1)},na=c('<span class="red-dot svelte-wqdqia"></span>'),da=c('<a class="sidebar-button svelte-wqdqia" role="button"><strong>Notifications</strong> <!></a>'),la=c('<div class="notifications svelte-wqdqia"><!></div>'),va=c('<a class="sidebar-button svelte-wqdqia" role="button"><strong>Moderator tools</strong></a>'),ca=c('<div><!> <a class="sidebar-button svelte-wqdqia" role="button"><strong>Help</strong></a> <a class="sidebar-button svelte-wqdqia" role="button"><strong>About</strong></a></div>'),fa=c('<div class="grid-container svelte-wqdqia"><div class="left-sidebar svelte-wqdqia"><div class="sidebar-canvas svelte-wqdqia"><a class="sidebar-button svelte-wqdqia" role="button"><strong>DraBeh</strong></a> <div></div> <!></div></div> <main class="main container svelte-wqdqia"><!></main> <div class="right-sidebar svelte-wqdqia"><div class="sidebar-canvas svelte-wqdqia"><!> <div><!></div> <!></div></div></div>');function Ua(D,e){C(e,!0);let _=A(!1);K(async()=>{aa.allow=!0,V()&&(l.cachedUserData===null&&await X(),await Y()&&L(_,!0))});let b=A(!1);var k=fa(),f=s(k),q=s(f),m=s(q);g(m,"href",`${v??""}/home`),N(m,"margin-top","0");var $=r(m,2);N($,"flex-grow","1");var H=r($,2);u(H,()=>l.isLoggedIn,i=>{var a=oa(),t=R(a);u(t,()=>l.cachedUserData,x=>{var p=ra();G(()=>g(p,"href",v+"/home/user/"+l.cachedUserData.id)),d(x,p)});var n=r(t,2);g(n,"href",`${v??""}/account/settings`);var h=r(n,2);h.__click=[sa],d(i,a)},i=>{var a=ea(),t=R(a);g(t,"href",`${v??""}/account/login`);var n=r(t,2);g(n,"href",`${v??""}/account/register`),d(i,a)}),o(q),o(f);var U=r(f,2),S=s(U);ta(S,e,"default",{}),o(U);var I=r(U,2),M=s(I),O=s(M);u(O,()=>l.isLoggedIn,i=>{var a=da();a.__click=[ia,b,_],N(a,"margin-top","0");var t=r(s(a),2);u(t,()=>w(_),n=>{var h=na();d(n,h)}),o(a),d(i,a)});var y=r(O,2);N(y,"flex-grow","1");var T=s(y);u(T,()=>w(b)&&l.isLoggedIn,i=>{var a=la(),t=s(a);Q(t,{}),o(a),B(3,a,()=>E,()=>({axis:"y",duration:500})),d(i,a)}),o(y);var j=r(y,2);u(j,()=>!w(b),i=>{var a=ca(),t=s(a);u(t,()=>l.cachedUserData&&(l.cachedUserData.role==="OWNER"||l.cachedUserData.role==="MODERATOR"),x=>{var p=va();g(p,"href",`${v??""}/moderator-tools`),d(x,p)});var n=r(t,2);g(n,"href",`${v??""}/about/help`);var h=r(n,2);g(h,"href",`${v??""}/about`),o(a),B(3,a,()=>E,()=>({axis:"y",duration:500})),d(i,a)}),o(M),o(I),o(k),d(D,k),F()}J(["click"]);export{Ua as component};
