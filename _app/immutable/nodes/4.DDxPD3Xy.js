import{a as d,t as c}from"../chunks/disclose-version.CLVP8wdO.js";import{h as W,_ as z,p as C,a as F,j as L,s as r,g as R,t as G,i as w,k as A,c as s,r as o}from"../chunks/runtime.OFQIcp2P.js";import{d as J}from"../chunks/render.BVhLVIDF.js";import{i as u}from"../chunks/if.CxsERAfj.js";import{s as f}from"../chunks/attributes.CGWwtoYz.js";import{s as N}from"../chunks/style.PwPRnE0L.js";import{t as B,s as E}from"../chunks/index.xyXJjMDu.js";import{o as K}from"../chunks/index-client.DzRFANZT.js";import{g as P}from"../chunks/entry.DMoyRBBC.js";import{b as v}from"../chunks/paths.CWjIHuvM.js";import{N as Q}from"../chunks/Notifications.DxRnkp4A.js";import{i as V,c as X,h as Y,l as Z}from"../chunks/jwtRetriever.svelte.eYKYCOXx.js";import{n as aa,s as l}from"../chunks/shared.svelte.Crem28hc.js";function ta(D,e,_,b,k){var m;W&&z();var g=(m=e.$$slots)==null?void 0:m[_],q=!1;g===!0&&(g=e.children,q=!0),g===void 0||g(D,q?()=>b:b)}var ra=c('<a class="sidebar-button svelte-wqdqia" role="button"><strong>My profile</strong></a>'),sa=()=>{Z(),P(v+"/account/login")},oa=c('<!> <a class="sidebar-button svelte-wqdqia" role="button"><strong>Settings</strong></a>  <a class="sidebar-button svelte-wqdqia" role="button"><strong>Log out</strong></a>',1),ea=c('<a class="sidebar-button svelte-wqdqia" role="button"><strong>Log in</strong></a> <a class="sidebar-button svelte-wqdqia" role="button"><strong>Sign up</strong></a>',1),ia=(D,e,_)=>{L(e,!w(e)),w(e)&&L(_,!1)},na=c('<span class="red-dot svelte-wqdqia"></span>'),da=c('<a class="sidebar-button svelte-wqdqia" role="button"><strong>Notifications</strong> <!></a>'),la=c('<div class="notifications svelte-wqdqia"><!></div>'),va=c('<a class="sidebar-button svelte-wqdqia" role="button"><strong>Moderator tools</strong></a>'),ca=c('<div><!> <a class="sidebar-button svelte-wqdqia" role="button"><strong>Help</strong></a> <a class="sidebar-button svelte-wqdqia" role="button"><strong>About</strong></a></div>'),ga=c('<div class="grid-container svelte-wqdqia"><div class="left-sidebar svelte-wqdqia"><div class="sidebar-canvas svelte-wqdqia"><a class="sidebar-button svelte-wqdqia" role="button"><strong>DraBeh</strong></a> <div></div> <!></div></div> <main class="main container svelte-wqdqia"><!></main> <div class="right-sidebar svelte-wqdqia"><div class="sidebar-canvas svelte-wqdqia"><!> <div><!></div> <!></div></div></div>');function Ua(D,e){C(e,!0);let _=A(!1);K(async()=>{aa.allow=!0,V()&&(l.cachedUserData===null&&await X(),await Y()&&L(_,!0))});let b=A(!1);var k=ga(),g=s(k),q=s(g),m=s(q);f(m,"href",`${v??""}/home`),N(m,"margin-top","0");var I=r(m,2);N(I,"flex-grow","1");var H=r(I,2);u(H,()=>l.isLoggedIn,i=>{var a=oa(),t=R(a);u(t,()=>l.cachedUserData,x=>{var p=ra();G(()=>f(p,"href",v+"/home/user?userId="+l.cachedUserData.id)),d(x,p)});var n=r(t,2);f(n,"href",`${v??""}/account/settings`);var h=r(n,2);h.__click=[sa],d(i,a)},i=>{var a=ea(),t=R(a);f(t,"href",`${v??""}/account/login`);var n=r(t,2);f(n,"href",`${v??""}/account/register`),d(i,a)}),o(q),o(g);var U=r(g,2),S=s(U);ta(S,e,"default",{}),o(U);var $=r(U,2),M=s($),O=s(M);u(O,()=>l.isLoggedIn,i=>{var a=da();a.__click=[ia,b,_],N(a,"margin-top","0");var t=r(s(a),2);u(t,()=>w(_),n=>{var h=na();d(n,h)}),o(a),d(i,a)});var y=r(O,2);N(y,"flex-grow","1");var T=s(y);u(T,()=>w(b)&&l.isLoggedIn,i=>{var a=la(),t=s(a);Q(t,{}),o(a),B(3,a,()=>E,()=>({axis:"y",duration:500})),d(i,a)}),o(y);var j=r(y,2);u(j,()=>!w(b),i=>{var a=ca(),t=s(a);u(t,()=>l.cachedUserData&&(l.cachedUserData.role==="OWNER"||l.cachedUserData.role==="MODERATOR"),x=>{var p=va();f(p,"href",`${v??""}/moderator-tools`),d(x,p)});var n=r(t,2);f(n,"href",`${v??""}/about/help`);var h=r(n,2);f(h,"href",`${v??""}/about`),o(a),B(3,a,()=>E,()=>({axis:"y",duration:500})),d(i,a)}),o(M),o($),o(k),d(D,k),F()}J(["click"]);export{Ua as component};
