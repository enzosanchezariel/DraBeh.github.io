import{a as u,t as g}from"../chunks/disclose-version.CLVP8wdO.js";import{p as M,g as E,a as R,j as t,i as e,s as o,k as p,c as l,r as d,l as L,t as S}from"../chunks/runtime.OFQIcp2P.js";import{s as U}from"../chunks/render.BVhLVIDF.js";import{i as k}from"../chunks/if.CxsERAfj.js";import{s as T}from"../chunks/attributes.CGWwtoYz.js";import{p as v}from"../chunks/proxy.B9U5D_Zu.js";import{o as j}from"../chunks/index-client.DzRFANZT.js";import{H}from"../chunks/entry.DMoyRBBC.js";import{P as Y,a as $}from"../chunks/public.CHZCeYTi.js";function _(m,f){throw new H(m,f)}new TextEncoder;var D=g("<h1>Loading...</h1>"),G=g("<h1>Your account has been banned</h1> <strong> </strong> <p> </p> <p>If you think this was a mistake, you can appeal by <a>sending an email</a> with your username and the reason</p> <p>(you can only appeal if your account was verified or if you had a higher role/membership).</p>",1),K=g("<!> <!>",1);function X(m,f){M(f,!0);let s=p(""),w=p(""),r=p(void 0),n=p(!1);j(()=>{const a=new URLSearchParams(window.location.search);if(t(s,v(a.get("username"))),e(s))A();else throw _(400,"Username not provided")});async function A(){t(n,!0);const a=await fetch(Y+"/report/user/"+e(s),{method:"GET"});if(t(r,v(await a.json())),a.ok)t(w,v(e(r)&&e(r).reason?e(r).reason:"Couldn't fetch the reason"));else throw a.status===404?_(404,"User not found"):_(a.status,"An error occurred");t(n,!1)}var y=K(),b=E(y);k(b,()=>e(n),a=>{var i=D();u(a,i)});var B=o(b,2);k(B,()=>!e(n)&&e(r),a=>{var i=G(),c=o(E(i),2),C=l(c);d(c);var h=o(c,2),I=l(h);d(h);var x=o(h,2),P=o(l(x));T(P,"href","mailto:"+$),L(),d(x),L(2),S(()=>{U(C,`Account username: ${e(s)??""}`),U(I,`Reason: ${e(w)??""}`)}),u(a,i)}),u(m,y),R()}export{X as component};
