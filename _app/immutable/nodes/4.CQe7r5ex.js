import{a as e,t as n}from"../chunks/disclose-version.7XzoFcgQ.js";import{h as T,_ as j,p as W,a as z,j as y,s as v,f as C,t as F,i as q,k as M,c as t,l as O,r as s}from"../chunks/runtime.CcS7PSai.js";import{d as G}from"../chunks/render.CfWg8y1S.js";import{i as f}from"../chunks/if.Bc-vB0Lk.js";import{s as J}from"../chunks/attributes.B2B5KGyN.js";import{s as D}from"../chunks/style.PwPRnE0L.js";import{t as R,s as A}from"../chunks/index.D4VyEPYp.js";import{o as K}from"../chunks/index-client.DhXnJF1D.js";import{g as P}from"../chunks/entry.PtJ6w72k.js";import{N as Q}from"../chunks/Notifications.CY2jne3c.js";import{i as V,c as X,h as Y,l as Z}from"../chunks/jwtRetriever.svelte.D-u_pXbS.js";import{n as $,s as i}from"../chunks/shared.svelte.MLCOWDAd.js";function aa(h,r,c,g,p){var _;T&&j();var d=(_=r.$$slots)==null?void 0:_[c],u=!1;d===!0&&(d=r.children,u=!0),d===void 0||d(h,u?()=>g:g)}var ta=n('<a class="sidebar-button svelte-wqdqia" role="button"><strong>My profile</strong></a>'),sa=()=>{Z(),P("/account/login")},ra=n('<!> <a class="sidebar-button svelte-wqdqia" role="button" href="/account/settings"><strong>Settings</strong></a>  <a class="sidebar-button svelte-wqdqia" role="button"><strong>Log out</strong></a>',1),oa=n('<a class="sidebar-button svelte-wqdqia" role="button" href="/account/login"><strong>Log in</strong></a> <a class="sidebar-button svelte-wqdqia" role="button" href="/account/register"><strong>Sign up</strong></a>',1),ea=(h,r,c)=>{y(r,!q(r)),q(r)&&y(c,!1)},ia=n('<span class="red-dot svelte-wqdqia"></span>'),na=n('<a class="sidebar-button svelte-wqdqia" role="button"><strong>Notifications</strong> <!></a>'),da=n('<div class="notifications svelte-wqdqia"><!></div>'),la=n('<a class="sidebar-button svelte-wqdqia" role="button" href="/moderator-tools"><strong>Moderator tools</strong></a>'),va=n('<div><!> <a class="sidebar-button svelte-wqdqia" role="button" href="/about/help"><strong>Help</strong></a> <a class="sidebar-button svelte-wqdqia" role="button" href="/about"><strong>About</strong></a></div>'),ca=n('<div class="grid-container svelte-wqdqia"><div class="left-sidebar svelte-wqdqia"><div class="sidebar-canvas svelte-wqdqia"><a class="sidebar-button svelte-wqdqia" role="button" href="/home"><strong>DraBeh</strong></a> <div></div> <!></div></div> <main class="main container svelte-wqdqia"><!></main> <div class="right-sidebar svelte-wqdqia"><div class="sidebar-canvas svelte-wqdqia"><!> <div><!></div> <!></div></div></div>');function ya(h,r){W(r,!0);let c=M(!1);K(async()=>{$.allow=!0,V()&&(i.cachedUserData===null&&await X(),await Y()&&y(c,!0))});let g=M(!1);var p=ca(),d=t(p),u=t(d),_=t(u);D(_,"margin-top","0");var x=v(_,2);D(x,"flex-grow","1");var B=v(x,2);f(B,()=>i.isLoggedIn,o=>{var a=ra(),l=C(a);f(l,()=>i.cachedUserData,m=>{var I=ta();F(()=>J(I,"href","/home/user/"+i.cachedUserData.id)),e(m,I)});var b=v(l,4);b.__click=[sa],e(o,a)},o=>{var a=oa();O(2),e(o,a)}),s(u),s(d);var k=v(d,2),E=t(k);aa(E,r,"default",{}),s(k);var N=v(k,2),U=t(N),L=t(U);f(L,()=>i.isLoggedIn,o=>{var a=na();a.__click=[ea,g,c],D(a,"margin-top","0");var l=v(t(a),2);f(l,()=>q(c),b=>{var m=ia();e(b,m)}),s(a),e(o,a)});var w=v(L,2);D(w,"flex-grow","1");var H=t(w);f(H,()=>q(g)&&i.isLoggedIn,o=>{var a=da(),l=t(a);Q(l,{}),s(a),R(3,a,()=>A,()=>({axis:"y",duration:500})),e(o,a)}),s(w);var S=v(w,2);f(S,()=>!q(g),o=>{var a=va(),l=t(a);f(l,()=>i.cachedUserData&&(i.cachedUserData.role==="OWNER"||i.cachedUserData.role==="MODERATOR"),b=>{var m=la();e(b,m)}),O(4),s(a),R(3,a,()=>A,()=>({axis:"y",duration:500})),e(o,a)}),s(U),s(N),s(p),e(h,p),z()}G(["click"]);export{ya as component};
